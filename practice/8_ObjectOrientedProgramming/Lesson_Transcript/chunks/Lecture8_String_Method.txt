1:04:25
But I can override this as well. It turns out that there are other special methods in Python
1:04:31
when it comes to classes-- not just underscore underscore, init, underscore underscore, but, continuing in that same pattern, underscore underscore, str,
1:04:40
underscore underscore. So this, too, is a special method that, if you define it inside of your class,
1:04:47
Python will just automatically call this function for you any time some other function wants to see your object as a string.
1:04:56
Print wants to see your object as a string. But by default, if you don't have this method defined in your class,
1:05:02
it's going to print out that very ugly esoteric incarnation thereof, where it says main__.Student object at 0x, dot, dot, dot.
1:05:10
Well, how can I then define my own str function? Well, here, back in VS Code, let me propose that I go in
1:05:17
and define not just __ init, but let me define a second function in this class
1:05:23
here, as follows-- def __ str __. There are two.
1:05:29
Even though the font in VS Code is putting the two underscore so close, it just looks like a longer underscore.
1:05:34
There are indeed two there, on the left and the right just like for init. This one only takes one argument that, by convention, is always called self
1:05:42
so that you have access to it. And then, indented below that after a colon, I'm going to go ahead and create a format string and return it.
1:05:51
So let me go ahead and return-- how about something generic first like "a student."
1:05:56
So I'm not going to bother even trying to figure out what this student's name or house is. I'm just going to always return "a student."
1:06:02
Let me go back now to my earlier code, which has print (student) on line 16.
1:06:08
Let me clear my terminal window and rerun Python of student.py, Enter. Type in Harry, type in Gryffindor.
1:06:14
Last time, I saw that very cryptic output. This time, I see, more generically, "a student."
1:06:20
More readable but not very enlightening. Which student is this? Well, notice that the double underscore str method takes in this self argument
1:06:31
by default. It's just the way the Python authors designed this method. It will always be passed a reference to the current student object.
1:06:41
What do I mean by that? When this line of code on line 6 is called, print, because it's hoping it's going to get a string,
1:06:48
is going to trigger the underscore underscore, str, underscore underscore method to be called.
1:06:54
And Python, for you, automatically is going to pass into that method a reference to the object that's trying to be
1:07:01
printed so that you, the programmer, can do something like this. Here's an f string with double quotes as usual.
1:07:08
I'm going to use some curly braces and say print out self.name from self.house.
1:07:14
So there's nothing new in what I've just done. It's just an f string-- an f on the beginning,
1:07:19
two double quotes, a couple of pairs of curly braces. But because, automatically, this str method gets passed self, so to speak,
1:07:28
a reference to the current object, I can go inside of that object and grab the name. I can go inside that object again and grab the house.
1:07:36
So now, when I go back to my terminal window-- previously it just printed out a student.
1:07:41
But now, if I run Python of student.py, Enter-- type in Harry, type in Gryffindor, and one more time hit Enter,
1:07:48
Harry is again from Gryffindor. But if I run this yet again-- let's, for instance, do Draco is from Slytherin, Enter.
1:07:57
Draco's from Slytherin. Now it's customized to the specific object that we're trying to print.
1:08:04
Questions on this function here-- this Dunder str method.
1:08:11
AUDIENCE: Is there anything else that the underscore underscore, str method can do? The other question is, what's the difference between str and repr.
1:08:19
DAVID J. MALAN: A good question. So there are many other methods that come with Python classes
1:08:24
that start with underscore underscore. We're just scratching the surface, and we'll pretty much focus primarily on these. But yes, there are many others, and we'll
1:08:30
see at least one other in just a little bit. Among the others is one called repr, which is
1:08:37
a representation of the Python object. Generally speaking, the underscore underscore, repr,
1:08:43
underscore underscore method is meant for developers' eyes. It typically has more information than "Harry from Gryffindor."
1:08:49
It would also say what type of object it is, like a student, capital S, whereas underscore underscore, str, underscore underscore is generally
1:08:56
meant for users-- the users of the program, and it's meant to be even more user-friendly. But both of those can be overridden as you see fit.
1:09:04
Well, let me propose now that we pick up where we've left off on student and just add even more functionality, but not just these special methods
1:09:11
like double underscore init and double underscore str. Let's create our own methods because therein lies the real power
1:09:18
and flexibility of classes if you and I as the programmers can invent new functionality that's specific to students.
1:09:25
For instance, students at Hogwarts, over the time in school, learn how to cast a certain type of spell.
1:09:31
So when they say, Expecto Patronum, something comes out of their wand that typically resembles an animal or something like that.
1:09:37
It's a special spell that they have to practice and practice. So let's see if we can't store, not just the student's name and their house,
1:09:44
but also their "patronus," what, actually, they conjure when using this spell. Well, let me go ahead and clear my terminal window.
1:09:50
And in the top of my code here, in the init method of Student, let me go ahead
1:09:56
and start expecting a third argument, in addition to self, which automatically gets passed in, called patronus.
1:10:02
And I'm not going to worry, for now, on validating the patronus from an official list of valid patronuses, or patroni.
1:10:10
I'm instead going to go ahead and just blindly assign it to self.patronus = patronus, and we're
1:10:16
going to let the user type whatever they want for now. But I could certainly add more error checking if I wanted to limit the patronus to a specific list of them here.
1:10:25
Let me go ahead now and prompt the user for this patronus, as by-- in my get_student function-- defining a variable
1:10:33
called patronus or anything else, prompting the user for input for their patronus. And now I'm going to go ahead and pass in that third variable here.
1:10:42
So again, similar in spirit to just adding more and more attributes to the class, I'm going to pass in all three
1:10:47
of these values instead of just two. I'm not going to do anything interesting with that value yet. But just to make sure I haven't made things worse by breaking my code,
1:10:55
let me run Python of student.py. I'll type in Harry. I'll type in Gryffindor. And it turns out his patronus was a stag, .
1:11:02
And hit Enter I haven't seen what his patronus is in my output because I didn't change my str method yet.
1:11:08
But at least I don't have any syntax errors. So at least I've not made anything worse. But suppose, now, I want to have functionality, not just
Custom Methods
